<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simo ‚Ä¢ Your AI Builder</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: system-ui, sans-serif; }
    .chat-scroll { scrollbar-width: thin; scrollbar-color: #475569 #0f172a; }
    .chat-scroll::-webkit-scrollbar { width: 6px; }
    .chat-scroll::-webkit-scrollbar-thumb { background: #475569; border-radius: 3px; }
    .btn-disabled { opacity: 0.5; cursor: not-allowed; pointer-events: none; }
  </style>
</head>
<body class="bg-[#0f172a] text-slate-100 h-screen overflow-hidden flex">
  <!-- Left: Chat Panel -->
  <div class="flex-1 flex flex-col border-r border-slate-800">
    <div class="px-5 py-4 border-b border-slate-800 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 bg-blue-500 rounded-full flex items-center justify-center text-white text-xl font-bold">S</div>
        <span class="text-xl font-bold">Simo</span>
      </div>
      <div id="left-badge" class="px-5 py-1.5 bg-slate-700 text-slate-300 rounded-full text-sm font-medium">
        Free Ready
      </div>
    </div>

    <div id="messages" class="flex-1 p-5 overflow-y-auto chat-scroll space-y-5"></div>

    <div class="p-5 border-t border-slate-800">
      <div class="flex gap-3 mb-4">
        <input id="input" type="text" placeholder="Ask Simo anything..."
               class="flex-1 bg-slate-900 border border-slate-700 rounded-full px-6 py-3.5 focus:outline-none focus:border-blue-500 text-base">
        <button onclick="sendMsg()" class="bg-blue-600 hover:bg-blue-500 px-9 rounded-full font-medium">Send</button>
      </div>
      <div class="flex gap-3">
        <button id="save" onclick="saveAction()" class="flex-1 py-3 bg-slate-700 rounded-full text-sm font-medium btn-disabled">Save</button>
        <button id="download" onclick="downloadAction()" class="flex-1 py-3 bg-slate-700 rounded-full text-sm font-medium btn-disabled">Download</button>
        <button id="library" onclick="libraryAction()" class="flex-1 py-3 bg-slate-700 rounded-full text-sm font-medium btn-disabled">Library</button>
      </div>
    </div>
  </div>

  <!-- Right: Live Preview (no more ugly plain white) -->
  <div class="flex-1 flex flex-col">
    <div class="px-5 py-4 border-b border-slate-800 flex items-center justify-between">
      <span class="text-lg font-semibold">Live Preview</span>
      <div id="right-badge" class="px-5 py-1.5 bg-slate-700 text-slate-300 rounded-full text-sm font-medium">
        Free mode active
      </div>
    </div>
    <div id="preview" class="flex-1 bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center p-8 text-center overflow-auto"></div>
  </div>

  <script>
    let isPro = false;
    const messages = document.getElementById('messages');
    const input = document.getElementById('input');
    const preview = document.getElementById('preview');
    const leftBadge = document.getElementById('left-badge');
    const rightBadge = document.getElementById('right-badge');
    const saveBtn = document.getElementById('save');
    const dlBtn = document.getElementById('download');
    const libBtn = document.getElementById('library');

    function addMessage(sender, text) {
      const div = document.createElement('div');
      div.className = sender === 'Simo' 
        ? 'max-w-[80%] bg-slate-800 p-4 rounded-3xl rounded-tl-none'
        : 'max-w-[80%] ml-auto bg-blue-600 p-4 rounded-3xl rounded-tr-none text-white';
      div.innerHTML = `<strong>${sender}:</strong> ${text}`;
      messages.appendChild(div);
      messages.scrollTop = messages.scrollHeight;
    }

    function updateBadges(proActive) {
      isPro = proActive;
      if (proActive) {
        leftBadge.textContent = 'Pro Active';
        leftBadge.className = 'px-5 py-1.5 bg-emerald-600 text-white rounded-full text-sm font-medium';
        rightBadge.textContent = 'Pro Active';
        rightBadge.className = 'px-5 py-1.5 bg-emerald-600 text-white rounded-full text-sm font-medium';
        [saveBtn, dlBtn, libBtn].forEach(btn => btn.classList.remove('btn-disabled'));
      } else {
        leftBadge.textContent = 'Free Ready';
        leftBadge.className = 'px-5 py-1.5 bg-slate-700 text-slate-300 rounded-full text-sm font-medium';
        rightBadge.textContent = 'Free mode active';
        rightBadge.className = 'px-5 py-1.5 bg-slate-700 text-slate-300 rounded-full text-sm font-medium';
        [saveBtn, dlBtn, libBtn].forEach(btn => btn.classList.add('btn-disabled'));
      }
    }

    function updatePreview(isEmpty) {
      if (isEmpty) {
        preview.innerHTML = `
          <div class="text-slate-400 text-xl">
            <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-slate-700 flex items-center justify-center text-3xl">üîç</div>
            <p>Empty preview area</p>
            <p class="text-sm mt-2">Unlock Pro with SIMO-PRO-2026 and ask me to build something beautiful</p>
          </div>
        `;
      } else {
        preview.innerHTML = `
          <div class="w-full max-w-4xl mx-auto">
            <div class="bg-gradient-to-br from-slate-800 to-slate-700 rounded-3xl p-10 shadow-2xl border border-slate-600">
              <h1 class="text-4xl font-bold text-white mb-6 text-center">Your Simo Creation</h1>
              <p class="text-slate-300 text-lg text-center mb-8">Modern ‚Ä¢ Responsive ‚Ä¢ Exactly as requested</p>
              <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/10">
                <div class="w-24 h-24 bg-emerald-500 rounded-2xl mx-auto mb-6 flex items-center justify-center text-6xl">‚ú®</div>
                <h2 class="text-2xl font-semibold text-white mb-4 text-center">Ready to Launch</h2>
                <p class="text-slate-300 text-center">Pro features unlocked ‚Äî this is what real builds look like.</p>
              </div>
            </div>
          </div>
        `;
      }
    }

    function sendMsg() {
      const text = input.value.trim();
      if (!text) return;
      addMessage('You', text);
      input.value = '';

      setTimeout(() => {
        if (text.toUpperCase() === 'SIMO-PRO-2026') {
          addMessage('Simo', 'üîì Pro unlocked! Everything is now active.');
          updateBadges(true);
          updatePreview(true); // still "empty" but nicer
        } else if (!isPro) {
          addMessage('Simo', "Hey! I'm Simo. Type <strong>SIMO-PRO-2026</strong> to unlock Pro, or tell me what to build.");
        } else {
          addMessage('Simo', 'Generating your build...');
          if (text.toLowerCase().includes('build') || text.toLowerCase().includes('show') || text.toLowerCase().includes('preview') || text.toLowerCase().includes('make')) {
            updatePreview(false);
          } else {
            addMessage('Simo', `Got it ‚Äî ${text}. Ready when you are to build something!`);
          }
        }
      }, 700);
    }

    function saveAction() { if (isPro) alert('Saved your build to Library!'); }
    function downloadAction() {
      if (!isPro) return;
      const html = preview.innerHTML;
      const fullHtml = `<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Simo Build</title><script src="https://cdn.tailwindcss.com"></script></head><body class="bg-gray-900">${html}</body></html>`;
      const blob = new Blob([fullHtml], {type: 'text/html'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'simo-build.html';
      a.click();
    }
    function libraryAction() { if (isPro) alert('Opening your Library...'); }

    input.addEventListener('keypress', e => { if (e.key === 'Enter') sendMsg(); });

    // Start state
    addMessage('Simo', "Hey! I'm Simo. Type <strong>SIMO-PRO-2026</strong> to unlock Pro, or tell me what to build.");
    updateBadges(false);
    updatePreview(true); // nice placeholder instead of blank white
  </script>
</body>
</html>
