<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Simo â€¢ Final</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-950 text-gray-100 min-h-screen flex flex-col">

  <header class="bg-gray-900 p-4 flex justify-between items-center border-b border-gray-800">
    <div class="flex items-center gap-3">
      <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-xl font-bold">S</div>
      <div class="text-xl font-bold text-blue-400">Simo</div>
    </div>
    <div id="status" class="px-4 py-1 bg-blue-700 text-sm rounded-full">Free â€¢ 8 left</div>
  </header>

  <div class="flex border-b border-gray-800">
    <button id="chatTab" class="flex-1 p-3 bg-blue-700 font-medium">Chat</button>
    <button id="previewTab" class="flex-1 p-3 bg-gray-800 font-medium">Preview</button>
  </div>

  <div class="flex-1 flex overflow-hidden">
    <div id="chatPanel" class="flex-1 flex flex-col">
      <div id="messages" class="flex-1 p-4 overflow-y-auto"></div>
      <div class="p-4 bg-gray-900 border-t border-gray-800">
        <div class="flex">
          <input id="input" type="text" placeholder="Ask Simo..." class="flex-1 bg-gray-800 border border-gray-700 rounded-l-lg px-4 py-2 focus:outline-none focus:border-blue-500">
          <button id="sendBtn" class="bg-blue-600 px-6 py-2 rounded-r-lg">Send</button>
        </div>
      </div>
    </div>

    <div id="previewPanel" class="flex-1 bg-gray-900 p-8 overflow-y-auto hidden">
      <div id="previewContent" class="max-w-4xl mx-auto text-center">
        <div class="text-9xl mb-8">ðŸš€</div>
        <h1 class="text-5xl font-bold text-blue-400 mb-6">Preview Area</h1>
        <p class="text-xl text-gray-400">Generated content appears here.</p>
      </div>
      <div class="mt-12 text-center">
        <button id="downloadBtn" class="bg-orange-600 hover:bg-orange-700 text-white font-bold text-xl px-12 py-6 rounded-xl">
          Download Export
        </button>
      </div>
    </div>
  </div>

<script>
let count = 0;
const limit = 8;
let pro = false;

const msgs = document.getElementById('messages');
const inp = document.getElementById('input');
const btn = document.getElementById('sendBtn');
const st = document.getElementById('status');

document.getElementById('chatTab').onclick = () => {
  document.getElementById('chatPanel').style.display = 'flex';
  document.getElementById('previewPanel').style.display = 'none';
};

document.getElementById('previewTab').onclick = () => {
  document.getElementById('chatPanel').style.display = 'none';
  document.getElementById('previewPanel').style.display = 'block';
};

function add(sender, text) {
  const d = document.createElement('div');
  d.className = sender === 'You' ? 'ml-auto bg-blue-700 p-4 rounded-2xl max-w-[80%]' : 'bg-gray-800 p-4 rounded-2xl max-w-[80%]';
  d.innerHTML = `<strong>${sender}:</strong> ${text}`;
  msgs.appendChild(d);
  msgs.scrollTop = msgs.scrollHeight;
}

function send() {
  const t = inp.value.trim();
  if (!t) return;
  add('You', t);
  inp.value = '';
  count++;
  if (!pro) {
    st.innerText = `Free â€¢ ${limit - count} left`;
    if (count >= limit) st.classList.add('bg-orange-600');
  }
  setTimeout(() => {
    add('Simo', `Got "${t}"...`);
    if (t.toLowerCase().includes('build') || t.toLowerCase().includes('create')) {
      document.getElementById('previewContent').innerHTML = `<div class="text-9xl mb-8">ðŸš€</div><h1 class="text-5xl font-bold text-blue-400">${t}</h1><p class="text-xl mt-6">Preview ready.</p>`;
    }
    if (!pro && count >= limit) {
      setTimeout(() => {
        add('Simo', "Free limit reached â¤ï¸ Upgrade for unlimited?");
        const up = document.createElement('button');
        up.textContent = "Upgrade to Pro";
        up.className = "mt-4 bg-blue-600 px-6 py-3 rounded-xl block mx-auto";
        up.onclick = () => {
          pro = true;
          st.innerText = "Pro â€¢ Unlimited";
          st.classList.remove('bg-blue-700');
          st.classList.add('bg-emerald-600');
          add('Simo', "Pro active! No limits now.");
        };
        msgs.appendChild(up);
        msgs.scrollTop = msgs.scrollHeight;
      }, 1000);
    }
  }, 500);
}

btn.onclick = send;
inp.onkeypress = e => { if (e.key === 'Enter') send(); };

document.getElementById('downloadBtn').onclick = () => {
  const c = document.getElementById('previewContent').innerHTML || '<h1>Your Creation</h1>';
  const f = `<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Simo Export</title><script src="https://cdn.tailwindcss.com"></script></head><body class="bg-gray-900 text-white p-12">${c}</body></html>`;
  const b = new Blob([f], {type: 'text/html'});
  const u = URL.createObjectURL(b);
  const a = document.createElement('a');
  a.href = u;
  a.download = 'simo-export.html';
  a.click();
  URL.revokeObjectURL(u);
  alert('Downloaded!');
};

add('Simo', 'Hey! What would you like to create today?');
</script>

</body>
</html>
